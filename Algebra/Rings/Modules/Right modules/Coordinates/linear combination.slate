%../../../../../../../logics/hlm%

/**
 * @references * https://en.wikipedia.org/wiki/Linear_combination
 *             * https://mathworld.wolfram.com/LinearCombination.html
 *             * https://proofwiki.org/wiki/Definition:Linear_Combination
 *             * https://ncatlab.org/nlab/show/linear+combination
 */
$"linear combination"(
  𝐑: %Element(
    $../../../Rings,
    auto = %true
  ),
  𝐌: %Element(
    $../"Right modules"(𝐑 = {𝐑}),
    auto = %true
  ),
  𝒙: %Element($"Element sequences"(
    𝐑 = {𝐑},
    𝐌 = {𝐌}
  )),
  𝐚: %Element($Coordinates(
    𝐑 = {𝐑},
    𝐌 = {𝐌},
    𝒙 = {𝒙}
  ))
): %ExplicitOperator {
  notation = [$Operator(
    symbol = '⋅',
    operands = [𝒙, 𝐚],
    space = ' ',
    minParenLevel = 2,
    maxParenLevel = 2
  )],
  definition = [%structuralCases(
    𝒙,
    $../../../../../Essentials/Sequences/"Ordinal-indexed sequences"(S = {$../Carrier(
      𝐑 = {𝐑},
      𝐌 = {𝐌}
    )}),
    [{
      constructor = $../../../../../Essentials/Sequences/"Ordinal-indexed sequences".sequence,
      parameters = #(
        α: %Element($../../../../../Essentials/Numbers/Ordinal/"Ordinal numbers"),
        _m: %Element($../../../../../Essentials/Sequences/Tuples(
          S = {$../Carrier(
            𝐑 = {𝐑},
            𝐌 = {𝐌}
          )},
          α = {α}
        ))
      ),
      value = %structuralCases(
        _m,
        $../../../../../Essentials/Sequences/Tuples(
          S = {$../Carrier(
            𝐑 = {𝐑},
            𝐌 = {𝐌}
          )},
          α = {α}
        ),
        [{
          constructor = $../../../../../Essentials/Sequences/Tuples.sequence,
          parameters = #(k: %Binding(
            $../../../../../Essentials/Numbers/Ordinal/Subsets/"Segment (less)"(α = {α}),
            #(x: %Element($../Carrier(
              𝐑 = {𝐑},
              𝐌 = {𝐌}
            )))
          )),
          value = %structuralCases(
            𝐚,
            $../../../../../Essentials/Sequences/Tuples(
              S = {$../../../Carrier(𝐑 = {𝐑})},
              α = {$../../../../../Essentials/Sequences/"ordinal-indexed sequence length"(
                S = {$../Carrier(
                  𝐑 = {𝐑},
                  𝐌 = {𝐌}
                )},
                𝒂 = {𝒙}
              )}
            ),
            [{
              constructor = $../../../../../Essentials/Sequences/Tuples.sequence,
              parameters = #(k: %Binding(
                $../../../../../Essentials/Numbers/Ordinal/Subsets/"Segment (less)"(α = {$../../../../../Essentials/Sequences/"ordinal-indexed sequence length"(
                  S = {$../Carrier(
                    𝐑 = {𝐑},
                    𝐌 = {𝐌}
                  )},
                  𝒂 = {𝒙}
                )}),
                #(a: %Element($../../../Carrier(𝐑 = {𝐑})))
              )),
              value = $../../../../../Essentials/Functions/Operations/"Iterated operations"/"indexed by set with finite support"(
                X = {$../Carrier(
                  𝐑 = {𝐑},
                  𝐌 = {𝐌}
                )},
                ⨂ = {$../"iterated sum"(
                  𝐑 = {𝐑},
                  𝐌 = {𝐌}
                )},
                I = {$../../../../../Essentials/Numbers/Ordinal/Subsets/"Segment (less)"(α = {α})},
                i = {
                  #(k: %Element($../../../../../Essentials/Numbers/Ordinal/Subsets/"Segment (less)"(α = {α}))),
                  {a = {$../product(
                    𝐑 = {𝐑},
                    𝐌 = {𝐌},
                    x = {x[k]},
                    a = {a[k]}
                  )}}
                }
              )
            }]
          )
        }]
      )
    }]
  )]
}
