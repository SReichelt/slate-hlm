%../../../../logics/hlm%

/**
 * @references * https://en.wikipedia.org/wiki/Functor
 *             * http://mathworld.wolfram.com/Functor.html
 *             * https://proofwiki.org/wiki/Definition:Functor
 *             * https://ncatlab.org/nlab/show/functor
 */
$Functors(
  u: %Element(
    $../../Essentials/Numbers/Natural/"Natural numbers",
    auto = %true
  ),
  v: %Element(
    %previous,
    auto = %true
  ),
  ğ“’: %Element($../Categories(u = {u})),
  ğ““: %Element($../Categories(u = {v}))
): %Construction {
  $functor(
    ğ—: %Binding(
      $../Objects(
        u = {u},
        ğ“’ = {ğ“’}
      ),
      #(ğƒ: %Element($../Objects(
        u = {v},
        ğ“’ = {ğ““}
      )))
    ),
    ğ˜: %Binding(
      $../Objects(
        u = {u},
        ğ“’ = {ğ“’}
      ),
      #(ğ™: %Binding(
        %previous,
        #(f: %Binding(
          $../Morphisms(
            u = {u},
            ğ“’ = {ğ“’},
            ğ— = {ğ˜},
            ğ˜ = {ğ™}
          ),
          #(d: %Element($../Morphisms(
            u = {v},
            ğ“’ = {ğ““},
            ğ— = {ğƒ[ğ˜]},
            ğ˜ = {ğƒ[ğ™]}
          )))
        ))
      ))
    ),
    _1: %Constraint(%forall(
      #(ğ—: %Element($../Objects(
        u = {u},
        ğ“’ = {ğ“’}
      ))),
      %equals(
        d[
          ğ—,
          ğ—,
          $../identity(
            u = {u},
            ğ“’ = {ğ“’},
            ğ— = {ğ—}
          )
        ],
        $../identity(
          u = {v},
          ğ“’ = {ğ““},
          ğ— = {ğƒ[ğ—]}
        )
      )
    )),
    _2: %Constraint(%forall(
      #(
        ğ—: %Element($../Objects(
          u = {u},
          ğ“’ = {ğ“’}
        )),
        ğ˜: %Element(%previous),
        ğ™: %Element(%previous),
        f: %Element($../Morphisms(
          u = {u},
          ğ“’ = {ğ“’},
          ğ— = {ğ—},
          ğ˜ = {ğ˜}
        )),
        g: %Element($../Morphisms(
          u = {u},
          ğ“’ = {ğ“’},
          ğ— = {ğ˜},
          ğ˜ = {ğ™}
        ))
      ),
      %equals(
        d[
          ğ—,
          ğ™,
          $../composition(
            u = {u},
            ğ“’ = {ğ“’},
            ğ— = {ğ—},
            ğ˜ = {ğ˜},
            ğ™ = {ğ™},
            g = {g},
            f = {f}
          )
        ],
        $../composition(
          u = {v},
          ğ“’ = {ğ““},
          ğ— = {ğƒ[ğ—]},
          ğ˜ = {ğƒ[ğ˜]},
          ğ™ = {ğƒ[ğ™]},
          g = {d[ğ˜,ğ™,g]},
          f = {d[ğ—,ğ˜,f]}
        )
      )
    ))
  ): %Constructor {
    display = [$Parens(
      body = $Table(
        items = [
          [
            $InnerParens(
              body = ğ“’,
              maxLevel = 0
            ),
            'â€‰â†’â€‰',
            $InnerParens(
              body = ğ““,
              maxLevel = 0
            )
          ],
          [ğ—, 'â€‰â†¦â€‰', ğƒ],
          [
            $Parens(
              body = $FunctionDefinition(
                function = f,
                symbol = 'â†’',
                operands = [ğ˜, ğ™]
              ),
              style = '()'
            ),
            'â€‰â†¦â€‰',
            d
          ]
        ],
        style = 'aligned'
      ),
      style = '()'
    )],
    definitionDisplay = {
      parameter = #(F: %Expr),
      display = [$FunctionPrefix(
        function = F,
        body = [
          'â€Š',
          $Table(
            items = [
              [
                $InnerParens(
                  body = ğ“’,
                  maxLevel = 0
                ),
                'â€‰â†’â€‰',
                $InnerParens(
                  body = ğ““,
                  maxLevel = 0
                )
              ],
              [ğ—, 'â€‰â†¦â€‰', ğƒ],
              [
                $Parens(
                  body = $FunctionDefinition(
                    function = f,
                    symbol = 'â†’',
                    operands = [ğ˜, ğ™]
                  ),
                  style = '()'
                ),
                'â€‰â†¦â€‰',
                d
              ]
            ],
            style = 'aligned'
          )
        ]
      )]
    },
    equalityDefinition = {
      leftParameters = #(
        ğ—: %Binding(
          $../Objects(
            u = {u},
            ğ“’ = {ğ“’}
          ),
          #(ğƒ: %Element($../Objects(
            u = {v},
            ğ“’ = {ğ““}
          )))
        ),
        ğ˜: %Binding(
          $../Objects(
            u = {u},
            ğ“’ = {ğ“’}
          ),
          #(ğ™: %Binding(
            %previous,
            #(f: %Binding(
              $../Morphisms(
                u = {u},
                ğ“’ = {ğ“’},
                ğ— = {ğ˜},
                ğ˜ = {ğ™}
              ),
              #(d: %Element($../Morphisms(
                u = {v},
                ğ“’ = {ğ““},
                ğ— = {ğƒ[ğ˜]},
                ğ˜ = {ğƒ[ğ™]}
              )))
            ))
          ))
        ),
        _1: %Constraint(%forall(
          #(ğ—: %Element($../Objects(
            u = {u},
            ğ“’ = {ğ“’}
          ))),
          %equals(
            d[
              ğ—,
              ğ—,
              $../identity(
                u = {u},
                ğ“’ = {ğ“’},
                ğ— = {ğ—}
              )
            ],
            $../identity(
              u = {v},
              ğ“’ = {ğ““},
              ğ— = {ğƒ[ğ—]}
            )
          )
        )),
        _2: %Constraint(%forall(
          #(
            ğ—: %Element($../Objects(
              u = {u},
              ğ“’ = {ğ“’}
            )),
            ğ˜: %Element(%previous),
            ğ™: %Element(%previous),
            f: %Element($../Morphisms(
              u = {u},
              ğ“’ = {ğ“’},
              ğ— = {ğ—},
              ğ˜ = {ğ˜}
            )),
            g: %Element($../Morphisms(
              u = {u},
              ğ“’ = {ğ“’},
              ğ— = {ğ˜},
              ğ˜ = {ğ™}
            ))
          ),
          %equals(
            d[
              ğ—,
              ğ™,
              $../composition(
                u = {u},
                ğ“’ = {ğ“’},
                ğ— = {ğ—},
                ğ˜ = {ğ˜},
                ğ™ = {ğ™},
                g = {g},
                f = {f}
              )
            ],
            $../composition(
              u = {v},
              ğ“’ = {ğ““},
              ğ— = {ğƒ[ğ—]},
              ğ˜ = {ğƒ[ğ˜]},
              ğ™ = {ğƒ[ğ™]},
              g = {d[ğ˜,ğ™,g]},
              f = {d[ğ—,ğ˜,f]}
            )
          )
        ))
      ),
      rightParameters = #(
        ğ—: %Binding(
          $../Objects(
            u = {u},
            ğ“’ = {ğ“’}
          ),
          #("ğƒ'": %Element($../Objects(
            u = {v},
            ğ“’ = {ğ““}
          )))
        ),
        ğ˜: %Binding(
          $../Objects(
            u = {u},
            ğ“’ = {ğ“’}
          ),
          #(ğ™: %Binding(
            %previous,
            #(f: %Binding(
              $../Morphisms(
                u = {u},
                ğ“’ = {ğ“’},
                ğ— = {ğ˜},
                ğ˜ = {ğ™}
              ),
              #("d'": %Element($../Morphisms(
                u = {v},
                ğ“’ = {ğ““},
                ğ— = {"ğƒ'"[ğ˜]},
                ğ˜ = {"ğƒ'"[ğ™]}
              )))
            ))
          ))
        ),
        _1: %Constraint(%forall(
          #(ğ—: %Element($../Objects(
            u = {u},
            ğ“’ = {ğ“’}
          ))),
          %equals(
            "d'"[
              ğ—,
              ğ—,
              $../identity(
                u = {u},
                ğ“’ = {ğ“’},
                ğ— = {ğ—}
              )
            ],
            $../identity(
              u = {v},
              ğ“’ = {ğ““},
              ğ— = {"ğƒ'"[ğ—]}
            )
          )
        )),
        _2: %Constraint(%forall(
          #(
            ğ—: %Element($../Objects(
              u = {u},
              ğ“’ = {ğ“’}
            )),
            ğ˜: %Element(%previous),
            ğ™: %Element(%previous),
            f: %Element($../Morphisms(
              u = {u},
              ğ“’ = {ğ“’},
              ğ— = {ğ—},
              ğ˜ = {ğ˜}
            )),
            g: %Element($../Morphisms(
              u = {u},
              ğ“’ = {ğ“’},
              ğ— = {ğ˜},
              ğ˜ = {ğ™}
            ))
          ),
          %equals(
            "d'"[
              ğ—,
              ğ™,
              $../composition(
                u = {u},
                ğ“’ = {ğ“’},
                ğ— = {ğ—},
                ğ˜ = {ğ˜},
                ğ™ = {ğ™},
                g = {g},
                f = {f}
              )
            ],
            $../composition(
              u = {v},
              ğ“’ = {ğ““},
              ğ— = {"ğƒ'"[ğ—]},
              ğ˜ = {"ğƒ'"[ğ˜]},
              ğ™ = {"ğƒ'"[ğ™]},
              g = {"d'"[ğ˜,ğ™,g]},
              f = {"d'"[ğ—,ğ˜,f]}
            )
          )
        ))
      ),
      definition = [%and(
        %forall(
          #(ğ—: %Element($../Objects(
            u = {u},
            ğ“’ = {ğ“’}
          ))),
          %equals(ğƒ[ğ—], "ğƒ'"[ğ—])
        ),
        %forall(
          #(
            ğ˜: %Element($../Objects(
              u = {u},
              ğ“’ = {ğ“’}
            )),
            ğ™: %Element(%previous),
            f: %Element($../Morphisms(
              u = {u},
              ğ“’ = {ğ“’},
              ğ— = {ğ˜},
              ğ˜ = {ğ™}
            ))
          ),
          %equals(
            d[ğ˜,ğ™,f],
            %asElementOf(
              "d'"[ğ˜,ğ™,f],
              $../Morphisms(
                u = {v},
                ğ“’ = {ğ““},
                ğ— = {ğƒ[ğ˜]},
                ğ˜ = {ğƒ[ğ™]}
              )
            )
          )
        )
      )],
      isomorphic = %true
    }
  }

  display = [$Function(
    function = 'Fun',
    arguments = [ğ“’, ğ““]
  )],
  definitionDisplay = {
    parameter = #(F: %Expr),
    display = [$FunctionDefinition(
      function = F,
      symbol = 'â†’',
      operands = [ğ“’, ğ““]
    )],
    singularName = 'functor',
    pluralName = 'functors',
    nameOptional = %true
  }
}
