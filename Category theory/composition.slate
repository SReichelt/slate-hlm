%../../../logics/hlm%

/**
 * @references * https://proofwiki.org/wiki/Definition:Composition_of_Morphisms
 */
$composition(
  u: %Element(
    $../Essentials/Numbers/Natural/"Natural numbers",
    auto = %true
  ),
  𝓒: %Element(
    $Categories(u = {u}),
    auto = %true
  ),
  𝐗,𝐘,𝐙: %Element(
    $Objects(
      u = {u},
      𝓒 = {𝓒}
    ),
    auto = %true
  ),
  f: %Element($Morphisms(
    u = {u},
    𝓒 = {𝓒},
    𝐗 = {𝐗},
    𝐘 = {𝐘}
  )),
  g: %Element($Morphisms(
    u = {u},
    𝓒 = {𝓒},
    𝐗 = {𝐘},
    𝐘 = {𝐙}
  ))
): %ExplicitOperator {
  notation = $MultiplicationLikeOperator(
    symbol = '∘',
    operands = [g, f]
  ),
  definition = [%structuralCases(
    𝓒,
    $Categories(u = {u}),
    [{
      constructor = $Categories.category,
      parameters = #(
        O: %Set,
        _𝐀: %Binder(
          #(𝐀,𝐁: %Element(O)),
          #(M: %Set)
        ),
        _𝐂: %Binder(
          #(𝐂: %Element(O)),
          #(i: %Element(M[𝐀 = {𝐂}, 𝐁 = {𝐂}]))
        ),
        _𝐃: %Binder(
          #(𝐃,𝐄,𝐅: %Element(O)),
          #(∘: %Element($../Essentials/Operations/Operations(
            X = {M[𝐀 = {𝐄}, 𝐁 = {𝐅}]},
            Y = {M[𝐀 = {𝐃}, 𝐁 = {𝐄}]},
            Z = {M[𝐀 = {𝐃}, 𝐁 = {𝐅}]}
          )))
        ),
        _1: %Constraint(%forall(
          #(
            𝐖,𝐗,𝐘,𝐙: %Element(O),
            f: %Element(M[𝐀 = {𝐖}, 𝐁 = {𝐗}]),
            g: %Element(M[𝐀 = {𝐗}, 𝐁 = {𝐘}]),
            h: %Element(M[𝐀 = {𝐘}, 𝐁 = {𝐙}])
          ),
          %equals(
            $../Essentials/Operations/value(
              X = {M[𝐀 = {𝐗}, 𝐁 = {𝐙}]},
              Y = {M[𝐀 = {𝐖}, 𝐁 = {𝐗}]},
              Z = {M[𝐀 = {𝐖}, 𝐁 = {𝐙}]},
              ∗ = {∘[𝐃 = {𝐖}, 𝐄 = {𝐗}, 𝐅 = {𝐙}]},
              x = {$../Essentials/Operations/value(
                X = {M[𝐀 = {𝐘}, 𝐁 = {𝐙}]},
                Y = {M[𝐀 = {𝐗}, 𝐁 = {𝐘}]},
                Z = {M[𝐀 = {𝐗}, 𝐁 = {𝐙}]},
                ∗ = {∘[𝐃 = {𝐗}, 𝐄 = {𝐘}, 𝐅 = {𝐙}]},
                x = {h},
                y = {g}
              )},
              y = {f}
            ),
            $../Essentials/Operations/value(
              X = {M[𝐀 = {𝐘}, 𝐁 = {𝐙}]},
              Y = {M[𝐀 = {𝐖}, 𝐁 = {𝐘}]},
              Z = {M[𝐀 = {𝐖}, 𝐁 = {𝐙}]},
              ∗ = {∘[𝐃 = {𝐖}, 𝐄 = {𝐘}, 𝐅 = {𝐙}]},
              x = {h},
              y = {$../Essentials/Operations/value(
                X = {M[𝐀 = {𝐗}, 𝐁 = {𝐘}]},
                Y = {M[𝐀 = {𝐖}, 𝐁 = {𝐗}]},
                Z = {M[𝐀 = {𝐖}, 𝐁 = {𝐘}]},
                ∗ = {∘[𝐃 = {𝐖}, 𝐄 = {𝐗}, 𝐅 = {𝐘}]},
                x = {g},
                y = {f}
              )}
            )
          )
        )),
        _2: %Constraint(%forall(
          #(
            𝐗,𝐘: %Element(O),
            f: %Element(M[𝐀 = {𝐗}, 𝐁 = {𝐘}])
          ),
          %equals(
            $../Essentials/Operations/value(
              X = {M[𝐀 = {𝐘}, 𝐁 = {𝐘}]},
              Y = {M[𝐀 = {𝐗}, 𝐁 = {𝐘}]},
              Z = {M[𝐀 = {𝐗}, 𝐁 = {𝐘}]},
              ∗ = {∘[𝐃 = {𝐗}, 𝐄 = {𝐘}, 𝐅 = {𝐘}]},
              x = {i[𝐂 = {𝐘}]},
              y = {f}
            ),
            $../Essentials/Operations/value(
              X = {M[𝐀 = {𝐗}, 𝐁 = {𝐘}]},
              Y = {M[𝐀 = {𝐗}, 𝐁 = {𝐗}]},
              Z = {M[𝐀 = {𝐗}, 𝐁 = {𝐘}]},
              ∗ = {∘[𝐃 = {𝐗}, 𝐄 = {𝐗}, 𝐅 = {𝐘}]},
              x = {f},
              y = {i[𝐂 = {𝐗}]}
            ),
            f
          )
        )),
        _3: %Constraint(%forall(
          #(
            𝐗,𝐘: %Element(O),
            _4: %Constraint(%exists(
              #(
                f: %Element(M[𝐀 = {𝐗}, 𝐁 = {𝐘}]),
                g: %Element(M[𝐀 = {𝐘}, 𝐁 = {𝐗}])
              ),
              formula = %and(
                %equals(
                  $../Essentials/Operations/value(
                    X = {M[𝐀 = {𝐗}, 𝐁 = {𝐘}]},
                    Y = {M[𝐀 = {𝐘}, 𝐁 = {𝐗}]},
                    Z = {M[𝐀 = {𝐘}, 𝐁 = {𝐘}]},
                    ∗ = {∘[𝐃 = {𝐘}, 𝐄 = {𝐗}, 𝐅 = {𝐘}]},
                    x = {f},
                    y = {g}
                  ),
                  i[𝐂 = {𝐘}]
                ),
                %equals(
                  $../Essentials/Operations/value(
                    X = {M[𝐀 = {𝐘}, 𝐁 = {𝐗}]},
                    Y = {M[𝐀 = {𝐗}, 𝐁 = {𝐘}]},
                    Z = {M[𝐀 = {𝐗}, 𝐁 = {𝐗}]},
                    ∗ = {∘[𝐃 = {𝐗}, 𝐄 = {𝐘}, 𝐅 = {𝐗}]},
                    x = {g},
                    y = {f}
                  ),
                  i[𝐂 = {𝐗}]
                )
              )
            ))
          ),
          %equals(𝐗, 𝐘)
        ))
      ),
      value = $../Essentials/Operations/value(
        X = {M[𝐀 = {𝐘}, 𝐁 = {𝐙}]},
        Y = {M[𝐀 = {𝐗}, 𝐁 = {𝐘}]},
        Z = {M[𝐀 = {𝐗}, 𝐁 = {𝐙}]},
        ∗ = {∘[𝐃 = {𝐗}, 𝐄 = {𝐘}, 𝐅 = {𝐙}]},
        x = {g},
        y = {f}
      )
    }]
  )]
}
