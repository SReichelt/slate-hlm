%../../../../logics/hlm%

/**
 * @remarks This definition is not exactly standard but very simple. The main reason to include it is that the result is defined to be a relation on `T` instead of `S`, which is sometimes needed.
 */
$restriction(
  S: %Set(auto = %true),
  ≺: %Element($Endorelations(S = {S})),
  T: %Subset(S)
): %ExplicitOperator {
  notation = [$PostfixUnaryOperator(
    symbol = $SubSup(
      body = '∣',
      sub = T
    ),
    operand = ≺,
    minParenLevel = 3
  )],
  definition = [$Endorelations(S = {T}).relation(s = {
      #(t: %Element(T)),
      {t = {
        #(u: %Element(T)),
        {p = {$related(
          S = {S},
          T = {S},
          ≺ = {≺},
          s = {t},
          t = {u}
        )}}
      }}
  })]
}
